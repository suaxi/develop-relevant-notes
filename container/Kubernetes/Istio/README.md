## Istio

### 一、服务网格

服务网格（Service Mesh）是一个专用的基础架构层，用于管理分布式应用程序中各个微服务之间的通信。它充当透明且分散的代理网络，并且部署在应用服务旁边，这些代理通常被称为 **Sidercar**，用于处理服务间的网络调用，限流，熔断，负载均衡等。

![1.服务网格](static/1.服务网格/1.服务网格.png)

当微服务（Service）集群扩大到一定规模后，就形成了网格状（Mesh），即 Service Mesh 形态



### 二、Istio

官网：https://istio.io/latest/zh/

Istio 是一种开源服务网格，可透明地分层到现有的分布式应用程序上。 Istio 的强大功能提供了一种统一且更高效的方式来保护、连接和监控服务。 Istio 是实现负载均衡、服务到服务身份验证和监控的途径 - 几乎无需更改服务代码。包含以下功能：

- 使用双向 TLS 加密、强大的基于身份的身份验证和鉴权在集群中保护服务到服务通信
- HTTP、gRPC、WebSocket 和 TCP 流量的自动负载均衡
- 使用丰富的路由规则、重试、故障转移和故障注入对流量行为进行细粒度控制
- 支持访问控制、限流和配额的可插入策略层和配置 API
- 集群内所有流量（包括集群入口和出口）的自动指标、日志和链路追踪

![1.v1.21架构](static/2.Istio/1.v1.21架构.png)

Istio 服务网格从逻辑上划分为**数据平面**和**控制平面**

- 数据平面：由一组被部署为 Sidercar 的智能代理（Envoy）组成，负责协调和控制微服务之间的所有网络通信，同时也收集和报告所有网格流量的遥测数据
- 控制平面：管理、配置代理，进行流量路由